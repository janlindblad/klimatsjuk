<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anmäl mig sjuk - Klimatsjuk</title>
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,600;1,400&family=Oswald:wght@200..700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        html {
            font-size: 16px;
        }
        
        body {
            font-family: "Crimson Text", Georgia, serif;
            line-height: 1.2;
            color: rgba(17, 17, 17, 0.75);
            background-color: #fcd9c7;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            justify-content: center;
            align-items: center;
            padding: 2rem;
        }
        
        .form-container {
            background-color: #fff;
            border-radius: 8px;
            padding: 3rem;
            max-width: 600px;
            width: 100%;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        
        h1 {
            font-family: "Oswald", sans-serif;
            font-size: 3rem;
            margin-bottom: 1.5rem;
            color: rgba(30, 30, 30, 0.9);
            text-transform: lowercase;
            letter-spacing: -0.05em;
        }
        
        .info-section {
            background-color: #f5f4f3;
            padding: 1.5rem;
            border-radius: 6px;
            margin-bottom: 2rem;
            font-size: 1rem;
            line-height: 1.6;
        }
        
        .info-section p {
            margin: 0.5rem 0;
        }
        
        .form-group {
            margin-bottom: 2rem;
        }
        
        label {
            display: block;
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: rgba(30, 30, 30, 0.9);
        }
        
        textarea {
            width: 100%;
            padding: 1rem;
            font-family: "Crimson Text", Georgia, serif;
            font-size: 1rem;
            border: 1px solid rgba(0, 0, 0, 0.2);
            border-radius: 6px;
            resize: vertical;
            min-height: 120px;
            line-height: 1.6;
        }
        
        textarea:focus {
            outline: none;
            border-color: rgba(0, 0, 0, 0.4);
            box-shadow: 0 0 0 3px rgba(0, 0, 0, 0.05);
        }
        
        .slider-container {
            margin-top: 1rem;
        }
        
        input[type="range"] {
            width: 100%;
            height: 8px;
            border-radius: 5px;
            background: rgba(0, 0, 0, 0.2);
            outline: none;
            -webkit-appearance: none;
        }
        
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: rgba(30, 30, 30, 0.9);
            cursor: pointer;
        }
        
        input[type="range"]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: rgba(30, 30, 30, 0.9);
            cursor: pointer;
            border: none;
        }
        
        .slider-labels {
            display: flex;
            justify-content: space-between;
            margin-top: 0.5rem;
            font-size: 0.9rem;
            color: rgba(0, 0, 0, 0.6);
        }
        
        .slider-value {
            display: inline-block;
            margin-left: 1rem;
            font-weight: 600;
            color: rgba(30, 30, 30, 0.9);
        }
        
        .button-submit {
            background-color: rgba(30, 30, 30, 0.9);
            color: #fff;
            padding: 1rem 2rem;
            border: none;
            border-radius: 6px;
            font-family: "Crimson Text", Georgia, serif;
            font-size: 1.3rem;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            transition: opacity 0.3s ease;
        }
        
        .button-submit:hover {
            opacity: 0.85;
        }
        
        .button-submit:active {
            opacity: 0.75;
        }
        
        .error-message {
            background-color: #ffebee;
            color: #c62828;
            padding: 1rem;
            border-radius: 6px;
            margin-bottom: 1.5rem;
            border-left: 4px solid #c62828;
        }
        
        .back-link {
            text-align: center;
            margin-top: 1.5rem;
        }
        
        .back-link a {
            color: rgba(17, 17, 17, 0.75);
            text-decoration: none;
            border-bottom: 1px solid rgba(17, 17, 17, 0.75);
        }
        
        .back-link a:hover {
            opacity: 0.7;
        }
        
        @media (max-width: 640px) {
            .form-container {
                padding: 1.5rem;
            }
            
            h1 {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div class="form-container">
        <h1>Anmäl mig sjuk</h1>
        
        <div class="info-section">
            <p><strong>Anonym delning:</strong> Ditt bidrag är helt anonymt, 
              ingen personlig information sparas. 
              Informationen skickas ingenstans och delas inte utanför denna webbplats. 
              Dagarna som rapporteras här räknas ihop och om du skriver en reflektion 
              kan den bli synlig för andra här.</p>
        </div>
        
        {% if error %}
        <div class="error-message">{{ error }}</div>
        {% endif %}
        
        <form method="POST">
            {% csrf_token %}
            
            <div class="form-group">
                <label for="text">Din reflektion om vad som är sjukt med klimatet</label>
                <textarea 
                    id="text" 
                    name="text" 
                    placeholder="Dela dina tankar om den sjuka planeten, klimatet och framtiden..." 
                    maxlength="2000"></textarea>
                <div style="font-size: 0.9rem; color: rgba(0, 0, 0, 0.6); margin-top: 0.5rem;">
                    <span id="char-count">0</span> / 2000 tecken
                </div>
            </div>
            
            <div class="form-group">
                <label for="days_count">
                    Antal klimatsjukdagar
                    <span class="slider-value"><span id="days-value">1</span> dagar</span>
                </label>
                <div class="slider-container">
                    <input 
                        type="range" 
                        id="days_count" 
                        name="days_count" 
                        min="0" 
                        max="5" 
                        value="1"
                        step="1">
                    <div class="slider-labels">
                        <span>0</span>
                        <span>1</span>
                        <span>2</span>
                        <span>3</span>
                        <span>4</span>
                        <span>5</span>
                    </div>
                </div>
            </div>
            
            <button type="submit" class="button-submit">Registrera</button>
        </form>
        
        <div class="back-link">
            <a href="{% url 'counter:landing' %}">Tillbaka till startsidan</a>
        </div>
    </div>
    
    <script>
        const textArea = document.getElementById('text');
        const charCount = document.getElementById('char-count');
        const daysSlider = document.getElementById('days_count');
        const daysValue = document.getElementById('days-value');
        
        textArea.addEventListener('input', function() {
            charCount.textContent = this.value.length;
        });
        
        daysSlider.addEventListener('input', function() {
            daysValue.textContent = this.value;
        });
    </script>
</body>
</html>
